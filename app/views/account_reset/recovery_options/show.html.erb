<% self.title = t('account_reset.recovery_options.header') %>
<%= render PageHeadingComponent.new.with_content(t('account_reset.recovery_options.header')) %>

<p>
  <%= t('account_reset.recovery_options.help_text', app_name: APP_NAME) %>
</p>

<%= render ProcessListComponent.new(class: 'margin-y-3') do |c| %>
  <% if IdentityConfig.store.updated_account_reset_content %>
    <%= c.with_item(heading: t('account_reset.recovery_options.try_method_again')) do %>
      <p> <%= t(
                'account_reset.recovery_options.try_method_description_html',
                link_html: link_to(t('account_reset.recovery_options.try_method_description_link'), login_two_factor_options_path),
              ) %> </p>
    <% end %>
    <%= c.with_item(heading: t('account_reset.recovery_options.use_device')) do %>
      <p><%= t('account_reset.recovery_options.try_another_device') %></p>
    <% end %>
    <%= c.with_item(heading: t('account_reset.recovery_options.check_webauthn_platform_header')) do %>
      <p><%= t(
               'account_reset.recovery_options.check_webauthn_platform_info_2_html',
               app_name: APP_NAME,
               help_link: new_tab_link_to(
                 t('account_reset.recovery_options.check_webauthn_platform_help_link'),
                 MarketingSite.help_center_article_url(
                   category: 'trouble-signing-in',
                   article: 'face-or-touch-unlock',
                 ),
               ),
             ) %></p>
    <% end %>
  <% else %>
    <%= c.with_item(heading: t('account_reset.recovery_options.try_method_again')) %>
    <%= c.with_item(heading: t('account_reset.recovery_options.use_device')) do %>
      <p><%= t('account_reset.recovery_options.try_another_device') %></p>
    <% end %>
    <%= c.with_item(heading: t('account_reset.recovery_options.check_saved_credential')) do %>
      <p><%= t('account_reset.recovery_options.check_webauthn_platform_info') %></p>
      <p><%= t('account_reset.recovery_options.use_same_device') %></p>
    <% end %>
  <% end %>
<% end %>

<% if IdentityConfig.store.updated_account_reset_content %>
  <p>
    <%= t('account_reset.recovery_options.still_working') %>
  </p>

  <%= link_to(
        account_reset_request_path,
        class: 'usa-button usa-button--big usa-button--wide margin-bottom-2',
      ) { t('account_reset.recover_options.yes_delete') } %>

  <%= button_to(
        t('account_reset.recovery_option.cancel_deletion'),
        account_reset_recovery_options_cancel_path,
        method: :post,
        class: 'usa-button usa-button--unstyled',
      ) %>

<% else %>
   <%= button_to(
         account_reset_recovery_options_cancel_path,
         method: :post,
         class: 'usa-button usa-button--big usa-button--wide margin-bottom-2',
       ) { t('account_reset.request.no_cancel') } %>

  <%= link_to(
        t('account_reset.request.yes_continue'),
        account_reset_request_path,
        class: 'usa-button usa-button--unstyled',
      ) %>
<% end %>
