<%= content_tag :'lg-validated-field', 'error-id': "validated-field-error-#{unique_id}", **tag_options do -%>
  <%= content_tag(
        :script,
        error_messages.to_json,
        {
          type: 'application/json',
          class: 'validated-field__error-strings',
        },
        false,
      ) %>
  <%= f.input(
        name,
        tag_options.deep_merge(
          wrapper_html: {
            class: [*tag_options.dig(:wrapper_html, :class), 'validated-field__input-wrapper'],
          },
          input_html: {
            class: [*tag_options.dig(:input_html, :class), 'validated-field__input'],
            aria: {
              invalid: false,
              describedby: [
                *tag_options.dig(:input_html, :aria, :describedby),
                tag_options[:hint].present? ? "validated-field-hint-#{unique_id}" : "",
              ],
            },
          },
          hint_html: {
            id: "validated-field-hint-#{unique_id}",
          },
          error_html: { id: "validated-field-error-#{unique_id}" },
        ),
      ) %>
<% end -%>
