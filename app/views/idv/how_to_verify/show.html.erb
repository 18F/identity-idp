<% self.title = t('doc_auth.headings.how_to_verify') %>
<%= render PageHeadingComponent.new.with_content(t('doc_auth.headings.how_to_verify')) %>
<%#   ============== Non Selfie Section ==========    %>
<% if !@selfie_required %>
  <p id='how-to-verify-info'><%= t('doc_auth.info.how_to_verify') %></p>
<% else %>
<%#   ============== Selfie Section ==========    %>
<p id='how-to-verify-info'><%= t('doc_auth.info.how_to_verify_selfie') %></p>
<% end %>
<%#   ============== End Diff Section ==========    %>
  <div role="group" aria-labelledby="how-to-verify-info" class="border-bottom border-primary-light grid-row">
    <div class="grid-col-12 tablet:grid-col-auto">
      <%#   ============== Non Selfie Section ==========    %>
      <% if !@selfie_required %>
        <%= image_tag(
              asset_url('idv/remote.svg'),
              width: 88,
              height: 88,
              class: 'margin-right-1 margin-top-4',
              alt: t('image_description.laptop_and_phone'),
            ) %>
      <% else %>
      <%#   ============== Selfie Section ==========    %>
        <%= image_tag(
          asset_url('idv/mobile-phone-icon.svg'),
          width: 88,
          height: 88,
          class: 'margin-right-1 margin-top-4',
          alt: t('image_description.phone_icon'),
          ) %>
      <% end %>
      <%#   ============== End Diff Section ==========    %>
    </div>
    <div class="grid-col-12 tablet:grid-col-fill">
    <%= simple_form_for(
          @idv_how_to_verify_form,
          html: {
            autocomplete: 'off',
            id: nil,
            aria: { label: t('forms.buttons.continue_remote') },
          },
          method: :put,
          url: idv_how_to_verify_url,
        ) do |f|
    %>
    <%= f.hidden_field(
          :selection,
          value: Idv::HowToVerifyForm::REMOTE,
        ) %>
    <%= f.label(
          :selection_remote,
        ) do %>
            <%#   ============== Selfie Section ==========    %>
            <% if @selfie_required %>
                <span class="usa-tag usa-tag--informative">
                  <%= t('doc_auth.tips.mobile_phone_required') %>
                </span>
            <% end %>
            <%#   ============== End Diff Section ==========    %>
            <%#   ============== Non Selfie Section ==========    %>
            <% if !@selfie_required %>
              <h2 class="margin-top-0"><%= t('doc_auth.headings.verify_online') %></h2>
            <% else %>
            <%#   ============== Selfie Section ==========    %>
              <h2 class="margin-top-0"><%= t('doc_auth.headings.verify_online_selfie') %></h2>
            <% end %>
            <%#   ============== End Diff Section ==========    %>
            <div>
              <%#   ============== Non Selfie Section ==========    %>
              <% if !@selfie_required %>
                <p><%= t('doc_auth.info.verify_online_instruction') %></p>
                <p><%= t('doc_auth.info.verify_online_description') %></p>
              <% else %>
              <%#   ============== Selfie Section ==========    %>
                <p><%= t('doc_auth.info.verify_online_instruction_selfie') %></p>
                <p><%= t('doc_auth.info.verify_online_description_selfie') %></p>
              <% end %>
              <%#   ============== End Diff Section ==========    %>
            </div>
        <% end %>
          <%#   ============== Non Selfie Section ==========    %>
          <% if !@selfie_required %>
            <%= f.submit t('forms.buttons.continue_remote'), class: 'display-block margin-top-3 margin-bottom-5' %>
          <% else %>
          <%#   ============== Selfie Section ==========    %>
            <%= f.submit t('forms.buttons.continue_remote_selfie'), class: 'display-block margin-top-3 margin-bottom-5' %>
          <% end %>
          <%#   ============== End Diff Section ==========    %>
    <% end %>
    </div>
  </div>
<div role="group" aria-labelledby="how-to-verify-info" class="grid-row">
<div class="grid-col-12 tablet:grid-col-auto">
  <%= image_tag(
        asset_url('idv/in-person.svg'),
        width: 88,
        height: 88,
        class: 'margin-right-1 margin-top-4',
        alt: t('image_description.post_office'),
      ) %>
</div>
  <div class="grid-col-12 tablet:grid-col-fill">
    <%= simple_form_for(
          @idv_how_to_verify_form,
          html: {
            autocomplete: 'off',
            id: nil,
            aria: { label: t('forms.buttons.continue_ipp') },
          },
          method: :put,
          url: idv_how_to_verify_url,
        ) do |f|
    %>
      <%= f.hidden_field(
            :selection,
            value: Idv::HowToVerifyForm::IPP,
          ) %>
      <%= f.label(
            :selection_ipp,
          ) do %>
            <h3 class="h2 margin-top-0"><%= t('doc_auth.headings.verify_at_post_office') %></h3>
            <div>
              <%#   ============== Non Selfie Section ==========    %>
              <% if !@selfie_required %>
                <p><%= t('doc_auth.info.verify_at_post_office_instruction') %></p>
                <p><%= t('doc_auth.info.verify_at_post_office_description') %></p>
              <% else %>
              <%#   ============== Selfie Section ==========    %>
                <p><%= t('doc_auth.info.verify_at_post_office_instruction_selfie') %></p>
                <p><%= t('doc_auth.info.verify_at_post_office_description_selfie') %></p>
              <% end %>
              <%#   ============== End Diff Section ==========    %>
            </div>
          <% end %>
      <%= f.submit t('forms.buttons.continue_ipp'), class: 'display-block margin-top-3 margin-bottom-5', outline: true %>
    <% end %>
  </div>
</div>

<%= render(
      'shared/troubleshooting_options',
      heading_tag: :h3,
      heading: t('doc_auth.info.how_to_verify_troubleshooting_options_header'),
      options: [
        {
          url: MarketingSite.help_center_article_url(
            category: 'verify-your-identity',
            article: 'how-to-verify-your-identity',
          ),
          text: t('doc_auth.info.verify_online_link_text'),
          new_tab: true,
        },
        {
          url: MarketingSite.help_center_article_url(
            category: 'verify-your-identity',
            article: 'verify-your-identity-in-person',
          ),
          text: t('doc_auth.info.verify_at_post_office_link_text'),
          new_tab: true,
        },
      ],
    ) %>
<%= render 'idv/doc_auth/cancel', step: 'how_to_verify' %>