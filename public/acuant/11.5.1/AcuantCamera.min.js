var AcuantCameraUI=function(){"use strict";let e=null,t=null,a=null,i=null,n={start:function(n,s,p){m=s,p&&(u=p);AcuantCamera.isCameraSupported?r||(r=!0,S(),function(n){var r=0,s=(new Date).getTime();i=document.getElementById("acuant-camera"),i&&i.addEventListener("acuantcameracreated",(()=>{e=document.getElementById("acuant-player"),t=document.getElementById("acuant-ui-canvas"),a=t.getContext("2d"),t.setAttribute("role","img"),e.addEventListener("play",A,0)}));AcuantCamera.start((e=>{!function(e,t){if(t>=3)return!0;{let t=(new Date).getTime()-e;return t<y&&(y=t),y<f}}(s,r)?(r+=1,s=(new Date).getTime(),AcuantCamera.setRepeatFrameProcessor()):y<f?function(e,t){if(e){if(o&&-1===o.state)return;t.onFrameAvailable&&t.onFrameAvailable(e),o=e,o.state===AcuantCamera.DOCUMENT_STATE.GOOD_DOCUMENT?null===c&&(l=(new Date).getTime(),function(e){null===c&&(c=setTimeout((function(){o.state=d,C(e,"AUTO")}),g))}(t)):(w(),l=null)}else w(),l=null}(e,n):function(e){o={state:h},t.addEventListener("click",P,!1),t.callback=e}(n)}),n,b)}(n)):b("Camera not supported.",AcuantJavascriptWebSdk.START_FAIL_CODE)},end:v},r=!1,o=null,l=null,s=null,m=null,c=null,p=null;const d=-1,h=-2;let u={text:{NONE:"ALIGN",SMALL_DOCUMENT:"MOVE CLOSER",GOOD_DOCUMENT:null,CAPTURING:"CAPTURING",TAP_TO_CAPTURE:"TAP TO CAPTURE"}};const g=2e3,f=400;let y=Number.MAX_VALUE;function S(){o=null,l=null,s=null}function v(){S(),r=!1,c&&(clearTimeout(c),c=null),p&&(clearTimeout(p),p=null),e&&(e.removeEventListener("play",A,0),e=null),i&&i.removeEventListener("acuantcameracreated",P),t&&(t.removeEventListener("click",P),t.getContext("2d").clearRect(0,0,t.width,t.height)),AcuantCamera.end()}function w(){c&&(clearTimeout(c),c=null)}function P(e){C(e.currentTarget.callback,"TAP")}function C(e,t){AcuantCamera.triggerCapture((a=>{v(),document.fullscreenElement?document.exitFullscreen().then((()=>{e.onCaptured(a)})):e.onCaptured(a),AcuantCamera.evaluateImage(a.data,a.width,a.height,t,(t=>{e.onCropped(t)}))}))}function b(e,t){v(),m&&m(e,t),m=null}function A(){!function i(){e&&!e.paused&&!e.ended&&r&&(!function(){if(a.clearRect(0,0,t.width,t.height),o)if(o.state===d)I("#00ff00"),D("rgba(0, 255, 0, 0.2)"),L(u.text.CAPTURING,.05,"#00ff00",!1);else if(o.state===h)I("#000000"),L(u.text.TAP_TO_CAPTURE);else if(o.state===AcuantCamera.DOCUMENT_STATE.GOOD_DOCUMENT)if(I("#ffff00"),D("rgba(255, 255, 0, 0.2)"),u.text.GOOD_DOCUMENT)L(u.text.GOOD_DOCUMENT,.09,"#ff0000",!1);else{let e=Math.ceil((g-((new Date).getTime()-l))/1e3);e<=0&&(e=1),L(e+"...",.09,"#ff0000",!1)}else o.state===AcuantCamera.DOCUMENT_STATE.SMALL_DOCUMENT?(I("#ff0000"),L(u.text.SMALL_DOCUMENT)):(I("#000000"),L(u.text.NONE));else I("#000000"),L(u.text.NONE)}(),p=setTimeout(i,100))}()}function L(e,t=.04,i="#ffffff",n=!0){let r=x(),o=window.orientation,l=a.measureText(e),s=.01*Math.max(r.width,r.height),m=.02*Math.max(r.width,r.height);var c=(r.height-m-l.width)/2,p=-(r.width/2-s),d=90;0!==o&&(d=0,c=(r.width-s-l.width)/2,p=r.height/2-m+.04*Math.max(r.width,r.height)),a.rotate(d*Math.PI/180),n&&(a.fillStyle="rgba(0, 0, 0, 0.5)",a.fillRect(c-s,p+s,l.width+m,-.05*Math.max(r.width,r.height))),a.font=(Math.ceil(Math.max(r.width,r.height)*t)||0)+"px Sans-serif",a.fillStyle=i,a.fillText(e,c,p),R(e),a.restore()}const R=e=>{s||(s=document.createElement("p"),s.id="doc-state-text",s.style.height="1px",s.style.width="1px",s.style.margin="-1px",s.style.overflow="hidden",s.style.position="absolute",s.style.whiteSpace="nowrap",s.setAttribute("role","alert"),s.setAttribute("aria-live","assertive"),t.parentNode.insertBefore(s,t)),s.innerHTML!=e&&(s.innerHTML=e)};function x(){return-1==(e=navigator.userAgent.toLowerCase()).indexOf("safari")||e.indexOf("chrome")>-1?{height:t.height,width:t.width}:{height:Math.min(document.body.clientHeight,t.height),width:Math.min(document.body.clientWidth,t.width)};var e}function E(e,t){let i=window.orientation,n=x();var r=.08*n.width,o=.07*n.height;switch(0!==i&&(r=.07*n.width,o=.08*n.height),t.toString()){case"1":r=-r;break;case"2":r=-r,o=-o;break;case"3":o=-o}!function(e,t,i){a.beginPath(),a.moveTo(e.x,e.y),a.lineTo(e.x+t,e.y),a.stroke(),a.moveTo(e.x,e.y),a.lineTo(e.x,e.y+i),a.stroke()}(e,r,o)}function D(e){if(o&&o.points&&4===o.points.length){a.beginPath(),a.moveTo(o.points[0].x,o.points[0].y);for(var t=1;t<o.points.length;t++)a.lineTo(o.points[t].x,o.points[t].y);a.fillStyle=e,a.strokeStyle="rgba(0, 0, 0, 0)",a.stroke(),a.fill()}}function I(e){let t=x();if(a.lineWidth=Math.ceil(.0025*Math.max(t.width,t.height))||1,a.strokeStyle=e,o&&o.points&&(-1===o.state||o.state===AcuantCamera.DOCUMENT_STATE.GOOD_DOCUMENT))for(var i in o.points)E(o.points[i],i);else{var n,r,l={x:t.width/2,y:t.height/2};let e,a;t.width>t.height?(e=.85*t.width,a=.85*t.width/1.5887,a>.85*t.height&&(e=e/a*.85*t.height,a=.85*t.height)):(e=.85*t.height/1.5887,a=.85*t.height,e>.85*t.width&&(a=a/e*.85*t.width,e=.85*t.width)),[{x:l.x-(n=e/2),y:l.y-(r=a/2)},{x:l.x+n,y:l.y-r},{x:l.x+n,y:l.y+r},{x:l.x-n,y:l.y+r}].forEach(((e,t)=>{E(e,t)}))}}return n}(),AcuantCamera=function(){"use strict";let e=null,t=null,a=null,i=null,n=null,r=null;const o={NO_DOCUMENT:0,SMALL_DOCUMENT:1,GOOD_DOCUMENT:2},l={NONE:0,ID:1,PASSPORT:2},s=700;let m,c=null,p=null,d=null,h=!1,u=!1,g=null,f={start:E,startManualCapture:D,triggerCapture:function(t){let a;try{if(0==e.videoWidth)throw"width 0";n.width=e.videoWidth,n.height=e.videoHeight,r.drawImage(e,0,0,n.width,n.height),a=r.getImageData(0,0,n.width,n.height),r.clearRect(0,0,n.width,n.height)}catch(e){return void J()}t({data:a,width:n.width,height:n.height})},end:M,DOCUMENT_STATE:o,ACUANT_DOCUMENT_TYPE:l,isCameraSupported:"mediaDevices"in navigator&&(P=!1,w=navigator.userAgent||navigator.vendor||window.opera,void((/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|playbook|silk/i.test(w)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(w.substr(0,4)))&&(P=!0)),(P||b())&&!(navigator.userAgent.toLowerCase().indexOf("firefox")>-1)),isIOSWebview:(y=window.navigator.standalone,S=window.navigator.userAgent.toLowerCase(),v=/safari/.test(S),/iphone|ipod|ipad/.test(S)&&!v&&!y),isIOS:b,setRepeatFrameProcessor:B,evaluateImage:H};var y,S,v,w,P;function C(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}return""}function b(){return/iPad|iPhone|iPod/.test(navigator.platform)&&C()[0]>=13||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1}var A={targetWidth:window.innerWidth||950,targetHeight:window.innerHeight,frameScale:1,primaryConstraints:{video:{facingMode:{exact:"environment"},height:{min:1440,ideal:1440},aspectRatio:function(){if(b())return 4/3;return 1*Math.max(window.innerWidth,window.innerHeight)/Math.min(window.innerWidth,window.innerHeight)}(),resizeMode:"none",frameRate:{min:10,ideal:15,max:24}}}};function L(t){h=!0,e.srcObject=t,window.addEventListener("resize",N),e&&e.addEventListener("loadedmetadata",_),e.play()}function R(e,t){document.cookie="AcuantCameraHasFailed="+t,M(),p&&"function"==typeof p?document.fullscreenElement?document.exitFullscreen().then((()=>{p(e,t)})):p(e,t):(console.error("No error callback set. Review implementation."),console.error(e,t))}function x(e){navigator.mediaDevices.getUserMedia(e).then((e=>{O()?L(e):function(e){m.requestFullscreen().then((function(){L(e)})).catch((function(t){L(e)}))}(e)})).catch((e=>{R(e,AcuantJavascriptWebSdk.START_FAIL_CODE)}))}function E(i,o,l){if(l&&(p=l),function(){let e="AcuantCameraHasFailed=";return decodeURIComponent(document.cookie).includes(e)}())return l("Live capture has previously failed and was called again. User was sent to manual capture.",AcuantJavascriptWebSdk.REPEAT_FAIL_CODE),void D(o);var s;(m=document.getElementById("acuant-camera"),m)?(m.style.position="relative",m.style.boxSizing="border-box",m.innerHTML='<video id="acuant-player" width="100%" height="auto" autoplay playsinline style="display:block; image-orientation:none;"></video><canvas id="acuant-ui-canvas" width="100%" height="auto" style="display:block; position:absolute; top:0; left:0;"></canvas>',e=document.getElementById("acuant-player"),n=document.createElement("canvas"),r=n.getContext("2d"),t=document.getElementById("acuant-ui-canvas"),h?R("already started.",AcuantJavascriptWebSdk.START_FAIL_CODE):e&&t?(a=t.getContext("2d"),i&&(c=i),m.dispatchEvent(new Event("acuantcameracreated")),s=A.primaryConstraints,navigator.mediaDevices.enumerateDevices().then((function(e){var t=void 0;e.forEach((function(e){if(e.label&&-1!==e.label.indexOf("back")){let a=e.label.split(","),i=parseInt(a[0][a[0].length-1]);(i||0===i)&&(void 0===t||t>i)&&(t=i,s.video.deviceId=e.deviceId)}})),x(s)})).catch((function(e){x(s)}))):R("Missing HTML elements.",AcuantJavascriptWebSdk.START_FAIL_CODE)):R("Expected div with 'acuant-camera' id",AcuantJavascriptWebSdk.START_FAIL_CODE)}function D(e){d=e,i||(i=document.createElement("input"),i.type="file",i.capture="environment",i.accept="image/*",i.onclick=function(e){e&&e.target&&(e.target.value="")}),i.onchange=k,i.click()}let I,T=-1;function k(e){let t=e.target,a=new FileReader;n=document.createElement("canvas"),r=n.getContext("2d"),a.onload=e=>{T=function(e){var t=new DataView(e.target.result);if(65496!=t.getUint16(0,!1))return-2;for(var a=t.byteLength,i=2;i<a;){if(t.getUint16(i+2,!1)<=8)return-1;var n=t.getUint16(i,!1);if(i+=2,65505==n){if(1165519206!=t.getUint32(i+=2,!1))return-1;var r=18761==t.getUint16(i+=6,!1);i+=t.getUint32(i+4,r);var o=t.getUint16(i,r);i+=2;for(var l=0;l<o;l++)if(274==t.getUint16(i+12*l,r))return t.getUint16(i+12*l+8,r)}else{if(65280!=(65280&n))break;i+=t.getUint16(i,!1)}}return-1}(e);let t=document.createElement("img");t.src="data:image/jpeg;base64,"+function(e){for(var t="",a=new Uint8Array(e),i=a.byteLength,n=0;n<i;n++)t+=String.fromCharCode(a[n]);return window.btoa(t)}(e.target.result),t.onload=()=>{let e=2560,a=1920,i=t.width,o=t.height;(i>o?i:o)>e?i<o?(a=e,e=a/(o/i)):a=e/(i/o):(e=t.width,a=t.height);n.width=e,n.height=a,r.mozImageSmoothingEnabled=!1,r.webkitImageSmoothingEnabled=!1,r.msImageSmoothingEnabled=!1,r.imageSmoothingEnabled=!1,r.drawImage(t,0,0,e,a),i=e,o=a;var l=r.getImageData(0,0,i,o);r.clearRect(0,0,e,a),t.remove(),d.onCaptured({data:l,width:i,height:o}),H(l,i,o,"MANUAL",d.onCropped)}},t&&t.files[0]&&a.readAsArrayBuffer(t.files[0])}function O(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("safari")&&!(e.indexOf("chrome")>-1)}function M(){h=!1,u=!1,T=-1,I=void 0,g&&(clearTimeout(g),g=null),window.removeEventListener("resize",N),e&&e.removeEventListener("loadedmetadata",_),e&&(e.pause(),e.srcObject&&e.srcObject.getTracks().forEach((e=>{e.stop()})),e=null),m&&(m.innerHTML=""),i&&(i.remove(),i=null)}function C(){if(/iP(hone|od|ad)/.test(navigator.platform))try{const e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}catch(e){return-1}return-1}function G(){let e=C();return e&&-1!=e&&e.length>=1&&15==e[0]}function F(){return navigator.maxTouchPoints&&navigator.maxTouchPoints>=2&&/MacIntel/.test(navigator.platform)}function N(){a.clearRect(0,0,t.width,t.height),e&&(b()&&function(){let e=C();return e&&-1!=e&&e.length>=2&&14==e[0]&&e[1]>=4}()?(M(),E()):U())}function U(){var a=0,i=0;O()?(a=document.body.clientWidth,i=document.body.clientHeight):(a=window.innerWidth,i=window.innerHeight),e.videoWidth<e.videoHeight?A.canvasScale=e.videoHeight/e.videoWidth:A.canvasScale=e.videoWidth/e.videoHeight,window.matchMedia("(orientation: portrait)").matches?(e.width=t.width=a,e.height=t.height=a*A.canvasScale):(e.width=t.width=i*A.canvasScale,e.height=t.height=i)}function _(){e.videoWidth+e.videoHeight<1e3?(M(),R("Camera not supported",AcuantJavascriptWebSdk.START_FAIL_CODE)):(U(),function t(){e&&!e.paused&&(B(),g=setTimeout(t,100))}())}function B(){if(!h||u)return;if(0==e.videoWidth)return void J();u=!0;let t=Math.max(e.videoWidth,e.videoHeight),a=Math.min(e.videoWidth,e.videoHeight);if(t>s&&a>500?e.videoWidth>=e.videoHeight?(A.frameScale=s/e.videoWidth,n.width=s,n.height=e.videoHeight*A.frameScale):(A.frameScale=s/e.videoHeight,n.width=e.videoWidth*A.frameScale,n.height=s):(A.frameScale=1,n.width=e.videoWidth,n.height=e.videoHeight),h){let t;try{r.drawImage(e,0,0,e.videoWidth,e.videoHeight,0,0,n.width,n.height),t=r.getImageData(0,0,n.width,n.height),r.clearRect(0,0,n.width,n.height)}catch(e){return void J()}if(G()||F()){if(I&&function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;let a=e.length>25e3?25e3:e.length;for(var i=0;i<a;++i)if(e[i]!==t[i])return!1;return!0}(I.data,t.data))return void J();I=t}!function(t,a,i){AcuantJavascriptWebSdk.detect(t,a,i,{onSuccess:function(t){if(n&&e&&!e.paused&&!e.ended){t.points.forEach((t=>{void 0!==t.x&&void 0!==t.y&&(t.x=t.x/A.frameScale*e.width/e.videoWidth,t.y=t.y/A.frameScale*e.height/e.videoHeight)}));var a=t.isCorrectAspectRatio&&(Math.min(t.dimensions.width,t.dimensions.height)/Math.min(n.width,n.height)>.75||Math.max(t.dimensions.width,t.dimensions.height)/Math.max(n.width,n.height)>.8);t.type===l.NONE?t.state=o.NO_DOCUMENT:t.state=a?o.GOOD_DOCUMENT:o.SMALL_DOCUMENT,c(t),u=!1}},onFail:function(){if(!n||!e||e.paused||e.ended)return;let t={};t.state=o.NO_DOCUMENT,c(t),u=!1}})}(t,n.width,n.height)}}function H(e,t,a,i,n){let r={},o=!0;AcuantJavascriptWebSdk.moire(e,t,a,{onSuccess:function(e,t){r.moire=e,r.moireraw=t,o?o=!1:W(r,i,n)},onFail:function(){r.moire=-1,r.moireraw=-1,o?o=!1:W(r,i,n)}}),AcuantJavascriptWebSdk.crop(e,t,a,{onSuccess:function(e){r.cardtype=e.cardtype,r.dpi=e.dpi,r.image=e.image,o?o=!1:W(r,i,n)},onFail:function(){n()}})}function W(e,t,a){AcuantJavascriptWebSdk.metrics(e.image,e.image.width,e.image.height,{onSuccess:function(i,n){e.sharpness=i,e.glare=n,e.image.data=j(e,t),a(e)},onFail:function(){e.sharpness=-1,e.glare=-1,e.image.data=j(e,t),a(e)}})}function j(e,t){n.width=e.image.width,n.height=e.image.height;let a=r.createImageData(e.image.width,e.image.height);!function(e,t){for(let a=0;a<e.length;a++)e[a]=t[a]}(a.data,e.image.data),r.putImageData(a,0,0);let i="AUTO"!=t&&"TAP"!=t;2!==e.cardtype&&(!i&&window.matchMedia("(orientation: portrait)").matches||i&&6===T)&&(r.rotate(Math.PI),r.drawImage(n,0,0,-n.width,-n.height)),e.image.bytes=r.getImageData(0,0,n.width,n.height).data;let o="undefined"!=typeof acuantConfig&&"number"==typeof acuantConfig.jpegQuality?acuantConfig.jpegQuality:1,l=n.toDataURL("image/jpeg",o);return r.clearRect(0,0,n.width,n.height),n&&(r=null,n.remove(),n=null),function(e,t,a){var i={};i[piexif.ImageIFD.Make]=navigator.platform,i[piexif.ImageIFD.Model]=navigator.userAgent,i[piexif.ImageIFD.Software]="Acuant JavascriptWeb SDK "+AcuantConfig.acuantVersion,i[piexif.ImageIFD.ImageDescription]=JSON.stringify({cvml:{cropping:{iscropped:!0,dpi:e.dpi,idsize:2===e.cardType?"ID3":"ID1",elapsed:-1},sharpness:{normalized:e.sharpness,elapsed:-1},moire:{normalized:e.moire,raw:e.moireraw,elapsed:-1},glare:{normalized:e.glare,elapsed:-1},version:AcuantConfig.cvmlVersion},device:{version:z(),capturetype:t}});var n={"0th":i},r=piexif.dump(n);return piexif.insert(r,a)}(e,t,l)}function z(){var e,t=navigator.userAgent,a=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(a[1])?"IE "+((e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""):"Chrome"===a[1]&&null!=(e=t.match(/\b(OPR|Edge)\/(\d+)/))?e.slice(1).join(" ").replace("OPR","Opera"):(a=a[2]?[a[1],a[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&a.splice(1,1,e[1]),a.join(" "))}function J(){G()||F()?R("Camera capture failed due to unexpected sequence break. This usually indicates the camera closed or froze unexpectedly. In iOS 15+ this is intermittently occurs due to a GPU Highwater failure. Swap to manual capture until the user fully reloads the browser. Attempting to continue to use live capture can lead to further Highwater errors and can cause to OS to cut off the webpage.",AcuantJavascriptWebSdk.SEQUENCE_BREAK_CODE):R("Camera capture failed due to unexpected sequence break. This usually indicates the camera closed or froze unexpectedly. Swap to manual capture until the user fully reloads the browser.",AcuantJavascriptWebSdk.SEQUENCE_BREAK_CODE)}return f}();!function(){"use strict";var e={};function t(e){return m(">"+p("B",e.length),e)}function a(e){return m(">"+p("H",e.length),e)}function i(e){return m(">"+p("L",e.length),e)}function n(e,n,r){var o,l,s,c,d="",h="";if("Byte"==n)(o=e.length)<=4?h=t(e)+p("\0",4-o):(h=m(">L",[r]),d=t(e));else if("Short"==n)(o=e.length)<=2?h=a(e)+p("\0\0",2-o):(h=m(">L",[r]),d=a(e));else if("Long"==n)(o=e.length)<=1?h=i(e):(h=m(">L",[r]),d=i(e));else if("Ascii"==n)(o=(l=e+"\0").length)>4?(h=m(">L",[r]),d=l):h=l+p("\0",4-o);else if("Rational"==n){if("number"==typeof e[0])o=1,s=e[0],c=e[1],l=m(">L",[s])+m(">L",[c]);else{o=e.length,l="";for(var u=0;u<o;u++)s=e[u][0],c=e[u][1],l+=m(">L",[s])+m(">L",[c])}h=m(">L",[r]),d=l}else if("SRational"==n){if("number"==typeof e[0])o=1,s=e[0],c=e[1],l=m(">l",[s])+m(">l",[c]);else{o=e.length,l="";for(u=0;u<o;u++)s=e[u][0],c=e[u][1],l+=m(">l",[s])+m(">l",[c])}h=m(">L",[r]),d=l}else"Undefined"==n&&((o=e.length)>4?(h=m(">L",[r]),d=e):h=e+p("\0",4-o));return[m(">L",[o]),h,d]}function r(e,t,a){var i,r=Object.keys(e).length,o=m(">H",[r]);i=["0th","1st"].indexOf(t)>-1?2+12*r+4:2+12*r;var l="",s="";for(var c in e)if("string"==typeof c&&(c=parseInt(c)),!("0th"==t&&[34665,34853].indexOf(c)>-1||"Exif"==t&&40965==c||"1st"==t&&[513,514].indexOf(c)>-1)){var p=e[c],d=m(">H",[c]),g=u[t][c].type,f=m(">H",[h[g]]);"number"==typeof p&&(p=[p]);var y=n(p,g,8+i+a+s.length);l+=d+f+y[0]+y[1],s+=y[2]}return[o+l,s]}function o(e){var t;if("ÿØ"==e.slice(0,2))t=function(e){for(var t,a=0;a<e.length;a++)if("ÿá"==(t=e[a]).slice(0,2)&&"Exif\0\0"==t.slice(4,10))return t;return null}(d(e)),this.tiftag=t?t.slice(10):null;else if(["II","MM"].indexOf(e.slice(0,2))>-1)this.tiftag=e;else{if("Exif"!=e.slice(0,4))throw new Error("Given file is neither JPEG nor TIFF.");this.tiftag=e.slice(6)}}if(e.version="1.0.4",e.remove=function(e){var t=!1;if("ÿØ"==e.slice(0,2));else{if("data:image/jpeg;base64,"!=e.slice(0,23)&&"data:image/jpg;base64,"!=e.slice(0,22))throw new Error("Given data is not jpeg.");e=s(e.split(",")[1]),t=!0}var a=d(e).filter((function(e){return!("ÿá"==e.slice(0,2)&&"Exif\0\0"==e.slice(4,10))})).join("");return t&&(a="data:image/jpeg;base64,"+l(a)),a},e.insert=function(e,t){var a=!1;if("Exif\0\0"!=e.slice(0,6))throw new Error("Given data is not exif.");if("ÿØ"==t.slice(0,2));else{if("data:image/jpeg;base64,"!=t.slice(0,23)&&"data:image/jpg;base64,"!=t.slice(0,22))throw new Error("Given data is not jpeg.");t=s(t.split(",")[1]),a=!0}var i="ÿá"+m(">H",[e.length+2])+e,n=function(e,t){var a=!1,i=[];e.forEach((function(n,r){"ÿá"==n.slice(0,2)&&"Exif\0\0"==n.slice(4,10)&&(a?i.unshift(r):(e[r]=t,a=!0))})),i.forEach((function(t){e.splice(t,1)})),!a&&t&&(e=[e[0],t].concat(e.slice(1)));return e.join("")}(d(t),i);return a&&(n="data:image/jpeg;base64,"+l(n)),n},e.load=function(e){var t;if("string"!=typeof e)throw new Error("'load' gots invalid type argument.");if("ÿØ"==e.slice(0,2))t=e;else if("data:image/jpeg;base64,"==e.slice(0,23)||"data:image/jpg;base64,"==e.slice(0,22))t=s(e.split(",")[1]);else{if("Exif"!=e.slice(0,4))throw new Error("'load' gots invalid file data.");t=e.slice(6)}var a={"0th":{},Exif:{},GPS:{},Interop:{},"1st":{},thumbnail:null},i=new o(t);if(null===i.tiftag)return a;"II"==i.tiftag.slice(0,2)?i.endian_mark="<":i.endian_mark=">";var n=c(i.endian_mark+"L",i.tiftag.slice(4,8))[0];a["0th"]=i.get_ifd(n,"0th");var r=a["0th"].first_ifd_pointer;if(delete a["0th"].first_ifd_pointer,34665 in a["0th"]&&(n=a["0th"][34665],a.Exif=i.get_ifd(n,"Exif")),34853 in a["0th"]&&(n=a["0th"][34853],a.GPS=i.get_ifd(n,"GPS")),40965 in a.Exif&&(n=a.Exif[40965],a.Interop=i.get_ifd(n,"Interop")),"\0\0\0\0"!=r&&(n=c(i.endian_mark+"L",r)[0],a["1st"]=i.get_ifd(n,"1st"),513 in a["1st"]&&514 in a["1st"])){var l=a["1st"][513]+a["1st"][514],m=i.tiftag.slice(a["1st"][513],l);a.thumbnail=m}return a},e.dump=function(t){var a,i,n,o,l,s,c=(a=t,JSON.parse(JSON.stringify(a))),p=!1,u=!1,g=!1,f=!1;i="0th"in c?c["0th"]:{},"Exif"in c&&Object.keys(c.Exif).length||"Interop"in c&&Object.keys(c.Interop).length?(i[34665]=1,p=!0,n=c.Exif,"Interop"in c&&Object.keys(c.Interop).length?(n[40965]=1,g=!0,o=c.Interop):Object.keys(n).indexOf(e.ExifIFD.InteroperabilityTag.toString())>-1&&delete n[40965]):Object.keys(i).indexOf(e.ImageIFD.ExifTag.toString())>-1&&delete i[34665],"GPS"in c&&Object.keys(c.GPS).length?(i[e.ImageIFD.GPSTag]=1,u=!0,l=c.GPS):Object.keys(i).indexOf(e.ImageIFD.GPSTag.toString())>-1&&delete i[e.ImageIFD.GPSTag],"1st"in c&&"thumbnail"in c&&null!=c.thumbnail&&(f=!0,c["1st"][513]=1,c["1st"][514]=1,s=c["1st"]);var y,S,v,w=r(i,"0th",0),P=w[0].length+12*p+12*u+4+w[1].length,C="",b=0,A="",L=0,R="",x=0,E="";(p&&(b=(y=r(n,"Exif",P))[0].length+12*g+y[1].length),u&&(L=(A=r(l,"GPS",P+b).join("")).length),g)&&(x=(R=r(o,"Interop",P+b+L).join("")).length);if(f&&(S=r(s,"1st",P+b+L+x),(v=function(e){var t=d(e);for(;"ÿà"<=t[1].slice(0,2)&&t[1].slice(0,2)<="ÿï";)t=[t[0]].concat(t.slice(2));return t.join("")}(c.thumbnail)).length>64e3))throw new Error("Given thumbnail is too large. max 64kB");var D="",I="",T="",k="\0\0\0\0";if(p){var O=m(">L",[M=8+P]);D=m(">H",[34665])+m(">H",[h.Long])+m(">L",[1])+O}if(u){O=m(">L",[M=8+P+b]);I=m(">H",[34853])+m(">H",[h.Long])+m(">L",[1])+O}if(g){O=m(">L",[M=8+P+b+L]);T=m(">H",[40965])+m(">H",[h.Long])+m(">L",[1])+O}if(f){var M;k=m(">L",[M=8+P+b+L+x]);var G="\0\0\0\0"+m(">L",[M+S[0].length+24+4+S[1].length]),F="\0\0\0\0"+m(">L",[v.length]);E=S[0]+G+F+"\0\0\0\0"+S[1]+v}var N=w[0]+D+I+k+w[1];return p&&(C=y[0]+T+y[1]),"Exif\0\0MM\0*\0\0\0\b"+N+C+A+R+E},o.prototype={get_ifd:function(e,t){var a,i={},n=c(this.endian_mark+"H",this.tiftag.slice(e,e+2))[0],r=e+2;a=["0th","1st"].indexOf(t)>-1?"Image":t;for(var o=0;o<n;o++){e=r+12*o;var l=c(this.endian_mark+"H",this.tiftag.slice(e,e+2))[0],s=[c(this.endian_mark+"H",this.tiftag.slice(e+2,e+4))[0],c(this.endian_mark+"L",this.tiftag.slice(e+4,e+8))[0],this.tiftag.slice(e+8,e+12)];l in u[a]&&(i[l]=this.convert_value(s))}return"0th"==t&&(e=r+12*n,i.first_ifd_pointer=this.tiftag.slice(e,e+4)),i},convert_value:function(e){var t,a=null,i=e[0],n=e[1],r=e[2];if(1==i)n>4?(t=c(this.endian_mark+"L",r)[0],a=c(this.endian_mark+p("B",n),this.tiftag.slice(t,t+n))):a=c(this.endian_mark+p("B",n),r.slice(0,n));else if(2==i)n>4?(t=c(this.endian_mark+"L",r)[0],a=this.tiftag.slice(t,t+n-1)):a=r.slice(0,n-1);else if(3==i)n>2?(t=c(this.endian_mark+"L",r)[0],a=c(this.endian_mark+p("H",n),this.tiftag.slice(t,t+2*n))):a=c(this.endian_mark+p("H",n),r.slice(0,2*n));else if(4==i)n>1?(t=c(this.endian_mark+"L",r)[0],a=c(this.endian_mark+p("L",n),this.tiftag.slice(t,t+4*n))):a=c(this.endian_mark+p("L",n),r);else if(5==i)if(t=c(this.endian_mark+"L",r)[0],n>1){a=[];for(var o=0;o<n;o++)a.push([c(this.endian_mark+"L",this.tiftag.slice(t+8*o,t+4+8*o))[0],c(this.endian_mark+"L",this.tiftag.slice(t+4+8*o,t+8+8*o))[0]])}else a=[c(this.endian_mark+"L",this.tiftag.slice(t,t+4))[0],c(this.endian_mark+"L",this.tiftag.slice(t+4,t+8))[0]];else if(7==i)n>4?(t=c(this.endian_mark+"L",r)[0],a=this.tiftag.slice(t,t+n)):a=r.slice(0,n);else if(9==i)n>1?(t=c(this.endian_mark+"L",r)[0],a=c(this.endian_mark+p("l",n),this.tiftag.slice(t,t+4*n))):a=c(this.endian_mark+p("l",n),r);else{if(10!=i)throw new Error("Exif might be wrong. Got incorrect value type to decode. type:"+i);if(t=c(this.endian_mark+"L",r)[0],n>1){a=[];for(o=0;o<n;o++)a.push([c(this.endian_mark+"l",this.tiftag.slice(t+8*o,t+4+8*o))[0],c(this.endian_mark+"l",this.tiftag.slice(t+4+8*o,t+8+8*o))[0]])}else a=[c(this.endian_mark+"l",this.tiftag.slice(t,t+4))[0],c(this.endian_mark+"l",this.tiftag.slice(t+4,t+8))[0]]}return a instanceof Array&&1==a.length?a[0]:a}},"undefined"!=typeof window&&"function"==typeof window.btoa)var l=window.btoa;if(void 0===l)l=function(e){for(var t,a,i,n,r,o,l,s="",m=0,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";m<e.length;)n=(t=e.charCodeAt(m++))>>2,r=(3&t)<<4|(a=e.charCodeAt(m++))>>4,o=(15&a)<<2|(i=e.charCodeAt(m++))>>6,l=63&i,isNaN(a)?o=l=64:isNaN(i)&&(l=64),s=s+c.charAt(n)+c.charAt(r)+c.charAt(o)+c.charAt(l);return s};if("undefined"!=typeof window&&"function"==typeof window.atob)var s=window.atob;if(void 0===s)s=function(e){var t,a,i,n,r,o,l="",s=0,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");s<e.length;)t=m.indexOf(e.charAt(s++))<<2|(n=m.indexOf(e.charAt(s++)))>>4,a=(15&n)<<4|(r=m.indexOf(e.charAt(s++)))>>2,i=(3&r)<<6|(o=m.indexOf(e.charAt(s++))),l+=String.fromCharCode(t),64!=r&&(l+=String.fromCharCode(a)),64!=o&&(l+=String.fromCharCode(i));return l};function m(e,t){if(!(t instanceof Array))throw new Error("'pack' error. Got invalid type argument.");if(e.length-1!=t.length)throw new Error("'pack' error. "+(e.length-1)+" marks, "+t.length+" elements.");var a;if("<"==e[0])a=!0;else{if(">"!=e[0])throw new Error("");a=!1}for(var i="",n=1,r=null,o=null,l=null;o=e[n];){if("b"==o.toLowerCase()){if(r=t[n-1],"b"==o&&r<0&&(r+=256),r>255||r<0)throw new Error("'pack' error.");l=String.fromCharCode(r)}else if("H"==o){if((r=t[n-1])>65535||r<0)throw new Error("'pack' error.");l=String.fromCharCode(Math.floor(r%65536/256))+String.fromCharCode(r%256),a&&(l=l.split("").reverse().join(""))}else{if("l"!=o.toLowerCase())throw new Error("'pack' error.");if(r=t[n-1],"l"==o&&r<0&&(r+=4294967296),r>4294967295||r<0)throw new Error("'pack' error.");l=String.fromCharCode(Math.floor(r/16777216))+String.fromCharCode(Math.floor(r%16777216/65536))+String.fromCharCode(Math.floor(r%65536/256))+String.fromCharCode(r%256),a&&(l=l.split("").reverse().join(""))}i+=l,n+=1}return i}function c(e,t){if("string"!=typeof t)throw new Error("'unpack' error. Got invalid type argument.");for(var a,i=0,n=1;n<e.length;n++)if("b"==e[n].toLowerCase())i+=1;else if("h"==e[n].toLowerCase())i+=2;else{if("l"!=e[n].toLowerCase())throw new Error("'unpack' error. Got invalid mark.");i+=4}if(i!=t.length)throw new Error("'unpack' error. Mismatch between symbol and string length. "+i+":"+t.length);if("<"==e[0])a=!0;else{if(">"!=e[0])throw new Error("'unpack' error.");a=!1}for(var r=[],o=0,l=1,s=null,m=null,c=null,p="";m=e[l];){if("b"==m.toLowerCase())c=1,s=(p=t.slice(o,o+c)).charCodeAt(0),"b"==m&&s>=128&&(s-=256);else if("H"==m)c=2,p=t.slice(o,o+c),a&&(p=p.split("").reverse().join("")),s=256*p.charCodeAt(0)+p.charCodeAt(1);else{if("l"!=m.toLowerCase())throw new Error("'unpack' error. "+m);c=4,p=t.slice(o,o+c),a&&(p=p.split("").reverse().join("")),s=16777216*p.charCodeAt(0)+65536*p.charCodeAt(1)+256*p.charCodeAt(2)+p.charCodeAt(3),"l"==m&&s>=2147483648&&(s-=4294967296)}r.push(s),o+=c,l+=1}return r}function p(e,t){for(var a="",i=0;i<t;i++)a+=e;return a}function d(e){if("ÿØ"!=e.slice(0,2))throw new Error("Given data isn't JPEG.");for(var t=2,a=["ÿØ"];;){if("ÿÚ"==e.slice(t,t+2)){a.push(e.slice(t));break}var i=t+c(">H",e.slice(t+2,t+4))[0]+2;if(a.push(e.slice(t,i)),(t=i)>=e.length)throw new Error("Wrong JPEG data.")}return a}var h={Byte:1,Ascii:2,Short:3,Long:4,Rational:5,Undefined:7,SLong:9,SRational:10},u={Image:{11:{name:"ProcessingSoftware",type:"Ascii"},254:{name:"NewSubfileType",type:"Long"},255:{name:"SubfileType",type:"Short"},256:{name:"ImageWidth",type:"Long"},257:{name:"ImageLength",type:"Long"},258:{name:"BitsPerSample",type:"Short"},259:{name:"Compression",type:"Short"},262:{name:"PhotometricInterpretation",type:"Short"},263:{name:"Threshholding",type:"Short"},264:{name:"CellWidth",type:"Short"},265:{name:"CellLength",type:"Short"},266:{name:"FillOrder",type:"Short"},269:{name:"DocumentName",type:"Ascii"},270:{name:"ImageDescription",type:"Ascii"},271:{name:"Make",type:"Ascii"},272:{name:"Model",type:"Ascii"},273:{name:"StripOffsets",type:"Long"},274:{name:"Orientation",type:"Short"},277:{name:"SamplesPerPixel",type:"Short"},278:{name:"RowsPerStrip",type:"Long"},279:{name:"StripByteCounts",type:"Long"},282:{name:"XResolution",type:"Rational"},283:{name:"YResolution",type:"Rational"},284:{name:"PlanarConfiguration",type:"Short"},290:{name:"GrayResponseUnit",type:"Short"},291:{name:"GrayResponseCurve",type:"Short"},292:{name:"T4Options",type:"Long"},293:{name:"T6Options",type:"Long"},296:{name:"ResolutionUnit",type:"Short"},301:{name:"TransferFunction",type:"Short"},305:{name:"Software",type:"Ascii"},306:{name:"DateTime",type:"Ascii"},315:{name:"Artist",type:"Ascii"},316:{name:"HostComputer",type:"Ascii"},317:{name:"Predictor",type:"Short"},318:{name:"WhitePoint",type:"Rational"},319:{name:"PrimaryChromaticities",type:"Rational"},320:{name:"ColorMap",type:"Short"},321:{name:"HalftoneHints",type:"Short"},322:{name:"TileWidth",type:"Short"},323:{name:"TileLength",type:"Short"},324:{name:"TileOffsets",type:"Short"},325:{name:"TileByteCounts",type:"Short"},330:{name:"SubIFDs",type:"Long"},332:{name:"InkSet",type:"Short"},333:{name:"InkNames",type:"Ascii"},334:{name:"NumberOfInks",type:"Short"},336:{name:"DotRange",type:"Byte"},337:{name:"TargetPrinter",type:"Ascii"},338:{name:"ExtraSamples",type:"Short"},339:{name:"SampleFormat",type:"Short"},340:{name:"SMinSampleValue",type:"Short"},341:{name:"SMaxSampleValue",type:"Short"},342:{name:"TransferRange",type:"Short"},343:{name:"ClipPath",type:"Byte"},344:{name:"XClipPathUnits",type:"Long"},345:{name:"YClipPathUnits",type:"Long"},346:{name:"Indexed",type:"Short"},347:{name:"JPEGTables",type:"Undefined"},351:{name:"OPIProxy",type:"Short"},512:{name:"JPEGProc",type:"Long"},513:{name:"JPEGInterchangeFormat",type:"Long"},514:{name:"JPEGInterchangeFormatLength",type:"Long"},515:{name:"JPEGRestartInterval",type:"Short"},517:{name:"JPEGLosslessPredictors",type:"Short"},518:{name:"JPEGPointTransforms",type:"Short"},519:{name:"JPEGQTables",type:"Long"},520:{name:"JPEGDCTables",type:"Long"},521:{name:"JPEGACTables",type:"Long"},529:{name:"YCbCrCoefficients",type:"Rational"},530:{name:"YCbCrSubSampling",type:"Short"},531:{name:"YCbCrPositioning",type:"Short"},532:{name:"ReferenceBlackWhite",type:"Rational"},700:{name:"XMLPacket",type:"Byte"},18246:{name:"Rating",type:"Short"},18249:{name:"RatingPercent",type:"Short"},32781:{name:"ImageID",type:"Ascii"},33421:{name:"CFARepeatPatternDim",type:"Short"},33422:{name:"CFAPattern",type:"Byte"},33423:{name:"BatteryLevel",type:"Rational"},33432:{name:"Copyright",type:"Ascii"},33434:{name:"ExposureTime",type:"Rational"},34377:{name:"ImageResources",type:"Byte"},34665:{name:"ExifTag",type:"Long"},34675:{name:"InterColorProfile",type:"Undefined"},34853:{name:"GPSTag",type:"Long"},34857:{name:"Interlace",type:"Short"},34858:{name:"TimeZoneOffset",type:"Long"},34859:{name:"SelfTimerMode",type:"Short"},37387:{name:"FlashEnergy",type:"Rational"},37388:{name:"SpatialFrequencyResponse",type:"Undefined"},37389:{name:"Noise",type:"Undefined"},37390:{name:"FocalPlaneXResolution",type:"Rational"},37391:{name:"FocalPlaneYResolution",type:"Rational"},37392:{name:"FocalPlaneResolutionUnit",type:"Short"},37393:{name:"ImageNumber",type:"Long"},37394:{name:"SecurityClassification",type:"Ascii"},37395:{name:"ImageHistory",type:"Ascii"},37397:{name:"ExposureIndex",type:"Rational"},37398:{name:"TIFFEPStandardID",type:"Byte"},37399:{name:"SensingMethod",type:"Short"},40091:{name:"XPTitle",type:"Byte"},40092:{name:"XPComment",type:"Byte"},40093:{name:"XPAuthor",type:"Byte"},40094:{name:"XPKeywords",type:"Byte"},40095:{name:"XPSubject",type:"Byte"},50341:{name:"PrintImageMatching",type:"Undefined"},50706:{name:"DNGVersion",type:"Byte"},50707:{name:"DNGBackwardVersion",type:"Byte"},50708:{name:"UniqueCameraModel",type:"Ascii"},50709:{name:"LocalizedCameraModel",type:"Byte"},50710:{name:"CFAPlaneColor",type:"Byte"},50711:{name:"CFALayout",type:"Short"},50712:{name:"LinearizationTable",type:"Short"},50713:{name:"BlackLevelRepeatDim",type:"Short"},50714:{name:"BlackLevel",type:"Rational"},50715:{name:"BlackLevelDeltaH",type:"SRational"},50716:{name:"BlackLevelDeltaV",type:"SRational"},50717:{name:"WhiteLevel",type:"Short"},50718:{name:"DefaultScale",type:"Rational"},50719:{name:"DefaultCropOrigin",type:"Short"},50720:{name:"DefaultCropSize",type:"Short"},50721:{name:"ColorMatrix1",type:"SRational"},50722:{name:"ColorMatrix2",type:"SRational"},50723:{name:"CameraCalibration1",type:"SRational"},50724:{name:"CameraCalibration2",type:"SRational"},50725:{name:"ReductionMatrix1",type:"SRational"},50726:{name:"ReductionMatrix2",type:"SRational"},50727:{name:"AnalogBalance",type:"Rational"},50728:{name:"AsShotNeutral",type:"Short"},50729:{name:"AsShotWhiteXY",type:"Rational"},50730:{name:"BaselineExposure",type:"SRational"},50731:{name:"BaselineNoise",type:"Rational"},50732:{name:"BaselineSharpness",type:"Rational"},50733:{name:"BayerGreenSplit",type:"Long"},50734:{name:"LinearResponseLimit",type:"Rational"},50735:{name:"CameraSerialNumber",type:"Ascii"},50736:{name:"LensInfo",type:"Rational"},50737:{name:"ChromaBlurRadius",type:"Rational"},50738:{name:"AntiAliasStrength",type:"Rational"},50739:{name:"ShadowScale",type:"SRational"},50740:{name:"DNGPrivateData",type:"Byte"},50741:{name:"MakerNoteSafety",type:"Short"},50778:{name:"CalibrationIlluminant1",type:"Short"},50779:{name:"CalibrationIlluminant2",type:"Short"},50780:{name:"BestQualityScale",type:"Rational"},50781:{name:"RawDataUniqueID",type:"Byte"},50827:{name:"OriginalRawFileName",type:"Byte"},50828:{name:"OriginalRawFileData",type:"Undefined"},50829:{name:"ActiveArea",type:"Short"},50830:{name:"MaskedAreas",type:"Short"},50831:{name:"AsShotICCProfile",type:"Undefined"},50832:{name:"AsShotPreProfileMatrix",type:"SRational"},50833:{name:"CurrentICCProfile",type:"Undefined"},50834:{name:"CurrentPreProfileMatrix",type:"SRational"},50879:{name:"ColorimetricReference",type:"Short"},50931:{name:"CameraCalibrationSignature",type:"Byte"},50932:{name:"ProfileCalibrationSignature",type:"Byte"},50934:{name:"AsShotProfileName",type:"Byte"},50935:{name:"NoiseReductionApplied",type:"Rational"},50936:{name:"ProfileName",type:"Byte"},50937:{name:"ProfileHueSatMapDims",type:"Long"},50938:{name:"ProfileHueSatMapData1",type:"Float"},50939:{name:"ProfileHueSatMapData2",type:"Float"},50940:{name:"ProfileToneCurve",type:"Float"},50941:{name:"ProfileEmbedPolicy",type:"Long"},50942:{name:"ProfileCopyright",type:"Byte"},50964:{name:"ForwardMatrix1",type:"SRational"},50965:{name:"ForwardMatrix2",type:"SRational"},50966:{name:"PreviewApplicationName",type:"Byte"},50967:{name:"PreviewApplicationVersion",type:"Byte"},50968:{name:"PreviewSettingsName",type:"Byte"},50969:{name:"PreviewSettingsDigest",type:"Byte"},50970:{name:"PreviewColorSpace",type:"Long"},50971:{name:"PreviewDateTime",type:"Ascii"},50972:{name:"RawImageDigest",type:"Undefined"},50973:{name:"OriginalRawFileDigest",type:"Undefined"},50974:{name:"SubTileBlockSize",type:"Long"},50975:{name:"RowInterleaveFactor",type:"Long"},50981:{name:"ProfileLookTableDims",type:"Long"},50982:{name:"ProfileLookTableData",type:"Float"},51008:{name:"OpcodeList1",type:"Undefined"},51009:{name:"OpcodeList2",type:"Undefined"},51022:{name:"OpcodeList3",type:"Undefined"}},Exif:{33434:{name:"ExposureTime",type:"Rational"},33437:{name:"FNumber",type:"Rational"},34850:{name:"ExposureProgram",type:"Short"},34852:{name:"SpectralSensitivity",type:"Ascii"},34855:{name:"ISOSpeedRatings",type:"Short"},34856:{name:"OECF",type:"Undefined"},34864:{name:"SensitivityType",type:"Short"},34865:{name:"StandardOutputSensitivity",type:"Long"},34866:{name:"RecommendedExposureIndex",type:"Long"},34867:{name:"ISOSpeed",type:"Long"},34868:{name:"ISOSpeedLatitudeyyy",type:"Long"},34869:{name:"ISOSpeedLatitudezzz",type:"Long"},36864:{name:"ExifVersion",type:"Undefined"},36867:{name:"DateTimeOriginal",type:"Ascii"},36868:{name:"DateTimeDigitized",type:"Ascii"},37121:{name:"ComponentsConfiguration",type:"Undefined"},37122:{name:"CompressedBitsPerPixel",type:"Rational"},37377:{name:"ShutterSpeedValue",type:"SRational"},37378:{name:"ApertureValue",type:"Rational"},37379:{name:"BrightnessValue",type:"SRational"},37380:{name:"ExposureBiasValue",type:"SRational"},37381:{name:"MaxApertureValue",type:"Rational"},37382:{name:"SubjectDistance",type:"Rational"},37383:{name:"MeteringMode",type:"Short"},37384:{name:"LightSource",type:"Short"},37385:{name:"Flash",type:"Short"},37386:{name:"FocalLength",type:"Rational"},37396:{name:"SubjectArea",type:"Short"},37500:{name:"MakerNote",type:"Undefined"},37510:{name:"UserComment",type:"Ascii"},37520:{name:"SubSecTime",type:"Ascii"},37521:{name:"SubSecTimeOriginal",type:"Ascii"},37522:{name:"SubSecTimeDigitized",type:"Ascii"},40960:{name:"FlashpixVersion",type:"Undefined"},40961:{name:"ColorSpace",type:"Short"},40962:{name:"PixelXDimension",type:"Long"},40963:{name:"PixelYDimension",type:"Long"},40964:{name:"RelatedSoundFile",type:"Ascii"},40965:{name:"InteroperabilityTag",type:"Long"},41483:{name:"FlashEnergy",type:"Rational"},41484:{name:"SpatialFrequencyResponse",type:"Undefined"},41486:{name:"FocalPlaneXResolution",type:"Rational"},41487:{name:"FocalPlaneYResolution",type:"Rational"},41488:{name:"FocalPlaneResolutionUnit",type:"Short"},41492:{name:"SubjectLocation",type:"Short"},41493:{name:"ExposureIndex",type:"Rational"},41495:{name:"SensingMethod",type:"Short"},41728:{name:"FileSource",type:"Undefined"},41729:{name:"SceneType",type:"Undefined"},41730:{name:"CFAPattern",type:"Undefined"},41985:{name:"CustomRendered",type:"Short"},41986:{name:"ExposureMode",type:"Short"},41987:{name:"WhiteBalance",type:"Short"},41988:{name:"DigitalZoomRatio",type:"Rational"},41989:{name:"FocalLengthIn35mmFilm",type:"Short"},41990:{name:"SceneCaptureType",type:"Short"},41991:{name:"GainControl",type:"Short"},41992:{name:"Contrast",type:"Short"},41993:{name:"Saturation",type:"Short"},41994:{name:"Sharpness",type:"Short"},41995:{name:"DeviceSettingDescription",type:"Undefined"},41996:{name:"SubjectDistanceRange",type:"Short"},42016:{name:"ImageUniqueID",type:"Ascii"},42032:{name:"CameraOwnerName",type:"Ascii"},42033:{name:"BodySerialNumber",type:"Ascii"},42034:{name:"LensSpecification",type:"Rational"},42035:{name:"LensMake",type:"Ascii"},42036:{name:"LensModel",type:"Ascii"},42037:{name:"LensSerialNumber",type:"Ascii"},42240:{name:"Gamma",type:"Rational"}},GPS:{0:{name:"GPSVersionID",type:"Byte"},1:{name:"GPSLatitudeRef",type:"Ascii"},2:{name:"GPSLatitude",type:"Rational"},3:{name:"GPSLongitudeRef",type:"Ascii"},4:{name:"GPSLongitude",type:"Rational"},5:{name:"GPSAltitudeRef",type:"Byte"},6:{name:"GPSAltitude",type:"Rational"},7:{name:"GPSTimeStamp",type:"Rational"},8:{name:"GPSSatellites",type:"Ascii"},9:{name:"GPSStatus",type:"Ascii"},10:{name:"GPSMeasureMode",type:"Ascii"},11:{name:"GPSDOP",type:"Rational"},12:{name:"GPSSpeedRef",type:"Ascii"},13:{name:"GPSSpeed",type:"Rational"},14:{name:"GPSTrackRef",type:"Ascii"},15:{name:"GPSTrack",type:"Rational"},16:{name:"GPSImgDirectionRef",type:"Ascii"},17:{name:"GPSImgDirection",type:"Rational"},18:{name:"GPSMapDatum",type:"Ascii"},19:{name:"GPSDestLatitudeRef",type:"Ascii"},20:{name:"GPSDestLatitude",type:"Rational"},21:{name:"GPSDestLongitudeRef",type:"Ascii"},22:{name:"GPSDestLongitude",type:"Rational"},23:{name:"GPSDestBearingRef",type:"Ascii"},24:{name:"GPSDestBearing",type:"Rational"},25:{name:"GPSDestDistanceRef",type:"Ascii"},26:{name:"GPSDestDistance",type:"Rational"},27:{name:"GPSProcessingMethod",type:"Undefined"},28:{name:"GPSAreaInformation",type:"Undefined"},29:{name:"GPSDateStamp",type:"Ascii"},30:{name:"GPSDifferential",type:"Short"},31:{name:"GPSHPositioningError",type:"Rational"}},Interop:{1:{name:"InteroperabilityIndex",type:"Ascii"}}};u["0th"]=u.Image,u["1st"]=u.Image,e.TAGS=u,e.ImageIFD={ProcessingSoftware:11,NewSubfileType:254,SubfileType:255,ImageWidth:256,ImageLength:257,BitsPerSample:258,Compression:259,PhotometricInterpretation:262,Threshholding:263,CellWidth:264,CellLength:265,FillOrder:266,DocumentName:269,ImageDescription:270,Make:271,Model:272,StripOffsets:273,Orientation:274,SamplesPerPixel:277,RowsPerStrip:278,StripByteCounts:279,XResolution:282,YResolution:283,PlanarConfiguration:284,GrayResponseUnit:290,GrayResponseCurve:291,T4Options:292,T6Options:293,ResolutionUnit:296,TransferFunction:301,Software:305,DateTime:306,Artist:315,HostComputer:316,Predictor:317,WhitePoint:318,PrimaryChromaticities:319,ColorMap:320,HalftoneHints:321,TileWidth:322,TileLength:323,TileOffsets:324,TileByteCounts:325,SubIFDs:330,InkSet:332,InkNames:333,NumberOfInks:334,DotRange:336,TargetPrinter:337,ExtraSamples:338,SampleFormat:339,SMinSampleValue:340,SMaxSampleValue:341,TransferRange:342,ClipPath:343,XClipPathUnits:344,YClipPathUnits:345,Indexed:346,JPEGTables:347,OPIProxy:351,JPEGProc:512,JPEGInterchangeFormat:513,JPEGInterchangeFormatLength:514,JPEGRestartInterval:515,JPEGLosslessPredictors:517,JPEGPointTransforms:518,JPEGQTables:519,JPEGDCTables:520,JPEGACTables:521,YCbCrCoefficients:529,YCbCrSubSampling:530,YCbCrPositioning:531,ReferenceBlackWhite:532,XMLPacket:700,Rating:18246,RatingPercent:18249,ImageID:32781,CFARepeatPatternDim:33421,CFAPattern:33422,BatteryLevel:33423,Copyright:33432,ExposureTime:33434,ImageResources:34377,ExifTag:34665,InterColorProfile:34675,GPSTag:34853,Interlace:34857,TimeZoneOffset:34858,SelfTimerMode:34859,FlashEnergy:37387,SpatialFrequencyResponse:37388,Noise:37389,FocalPlaneXResolution:37390,FocalPlaneYResolution:37391,FocalPlaneResolutionUnit:37392,ImageNumber:37393,SecurityClassification:37394,ImageHistory:37395,ExposureIndex:37397,TIFFEPStandardID:37398,SensingMethod:37399,XPTitle:40091,XPComment:40092,XPAuthor:40093,XPKeywords:40094,XPSubject:40095,PrintImageMatching:50341,DNGVersion:50706,DNGBackwardVersion:50707,UniqueCameraModel:50708,LocalizedCameraModel:50709,CFAPlaneColor:50710,CFALayout:50711,LinearizationTable:50712,BlackLevelRepeatDim:50713,BlackLevel:50714,BlackLevelDeltaH:50715,BlackLevelDeltaV:50716,WhiteLevel:50717,DefaultScale:50718,DefaultCropOrigin:50719,DefaultCropSize:50720,ColorMatrix1:50721,ColorMatrix2:50722,CameraCalibration1:50723,CameraCalibration2:50724,ReductionMatrix1:50725,ReductionMatrix2:50726,AnalogBalance:50727,AsShotNeutral:50728,AsShotWhiteXY:50729,BaselineExposure:50730,BaselineNoise:50731,BaselineSharpness:50732,BayerGreenSplit:50733,LinearResponseLimit:50734,CameraSerialNumber:50735,LensInfo:50736,ChromaBlurRadius:50737,AntiAliasStrength:50738,ShadowScale:50739,DNGPrivateData:50740,MakerNoteSafety:50741,CalibrationIlluminant1:50778,CalibrationIlluminant2:50779,BestQualityScale:50780,RawDataUniqueID:50781,OriginalRawFileName:50827,OriginalRawFileData:50828,ActiveArea:50829,MaskedAreas:50830,AsShotICCProfile:50831,AsShotPreProfileMatrix:50832,CurrentICCProfile:50833,CurrentPreProfileMatrix:50834,ColorimetricReference:50879,CameraCalibrationSignature:50931,ProfileCalibrationSignature:50932,AsShotProfileName:50934,NoiseReductionApplied:50935,ProfileName:50936,ProfileHueSatMapDims:50937,ProfileHueSatMapData1:50938,ProfileHueSatMapData2:50939,ProfileToneCurve:50940,ProfileEmbedPolicy:50941,ProfileCopyright:50942,ForwardMatrix1:50964,ForwardMatrix2:50965,PreviewApplicationName:50966,PreviewApplicationVersion:50967,PreviewSettingsName:50968,PreviewSettingsDigest:50969,PreviewColorSpace:50970,PreviewDateTime:50971,RawImageDigest:50972,OriginalRawFileDigest:50973,SubTileBlockSize:50974,RowInterleaveFactor:50975,ProfileLookTableDims:50981,ProfileLookTableData:50982,OpcodeList1:51008,OpcodeList2:51009,OpcodeList3:51022,NoiseProfile:51041},e.ExifIFD={ExposureTime:33434,FNumber:33437,ExposureProgram:34850,SpectralSensitivity:34852,ISOSpeedRatings:34855,OECF:34856,SensitivityType:34864,StandardOutputSensitivity:34865,RecommendedExposureIndex:34866,ISOSpeed:34867,ISOSpeedLatitudeyyy:34868,ISOSpeedLatitudezzz:34869,ExifVersion:36864,DateTimeOriginal:36867,DateTimeDigitized:36868,ComponentsConfiguration:37121,CompressedBitsPerPixel:37122,ShutterSpeedValue:37377,ApertureValue:37378,BrightnessValue:37379,ExposureBiasValue:37380,MaxApertureValue:37381,SubjectDistance:37382,MeteringMode:37383,LightSource:37384,Flash:37385,FocalLength:37386,SubjectArea:37396,MakerNote:37500,UserComment:37510,SubSecTime:37520,SubSecTimeOriginal:37521,SubSecTimeDigitized:37522,FlashpixVersion:40960,ColorSpace:40961,PixelXDimension:40962,PixelYDimension:40963,RelatedSoundFile:40964,InteroperabilityTag:40965,FlashEnergy:41483,SpatialFrequencyResponse:41484,FocalPlaneXResolution:41486,FocalPlaneYResolution:41487,FocalPlaneResolutionUnit:41488,SubjectLocation:41492,ExposureIndex:41493,SensingMethod:41495,FileSource:41728,SceneType:41729,CFAPattern:41730,CustomRendered:41985,ExposureMode:41986,WhiteBalance:41987,DigitalZoomRatio:41988,FocalLengthIn35mmFilm:41989,SceneCaptureType:41990,GainControl:41991,Contrast:41992,Saturation:41993,Sharpness:41994,DeviceSettingDescription:41995,SubjectDistanceRange:41996,ImageUniqueID:42016,CameraOwnerName:42032,BodySerialNumber:42033,LensSpecification:42034,LensMake:42035,LensModel:42036,LensSerialNumber:42037,Gamma:42240},e.GPSIFD={GPSVersionID:0,GPSLatitudeRef:1,GPSLatitude:2,GPSLongitudeRef:3,GPSLongitude:4,GPSAltitudeRef:5,GPSAltitude:6,GPSTimeStamp:7,GPSSatellites:8,GPSStatus:9,GPSMeasureMode:10,GPSDOP:11,GPSSpeedRef:12,GPSSpeed:13,GPSTrackRef:14,GPSTrack:15,GPSImgDirectionRef:16,GPSImgDirection:17,GPSMapDatum:18,GPSDestLatitudeRef:19,GPSDestLatitude:20,GPSDestLongitudeRef:21,GPSDestLongitude:22,GPSDestBearingRef:23,GPSDestBearing:24,GPSDestDistanceRef:25,GPSDestDistance:26,GPSProcessingMethod:27,GPSAreaInformation:28,GPSDateStamp:29,GPSDifferential:30,GPSHPositioningError:31},e.InteropIFD={InteroperabilityIndex:1},e.GPSHelper={degToDmsRational:function(e){var t=Math.abs(e),a=t%1*60,i=a%1*60;return[[Math.floor(t),1],[Math.floor(a),1],[Math.round(100*i),100]]},dmsRationalToDeg:function(e,t){var a="S"===t||"W"===t?-1:1;return(e[0][0]/e[0][1]+e[1][0]/e[1][1]/60+e[2][0]/e[2][1]/3600)*a}},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.piexif=e):window.piexif=e}();