<h2 class="margin-top-0 margin-bottom-1">
  <%= t('account.index.webauthn') %>
</h2>

<div class="border-bottom border-primary-light">
  <% MfaContext.new(current_user).webauthn_roaming_configurations.each do |cfg| %>
    <div class="grid-row padding-1 border-top border-left border-right border-primary-light">
      <div class="grid-col-8 mobile-lg:grid-col-6 truncate">
        <%= cfg.name %>
      </div>
      <% if MfaPolicy.new(current_user).multiple_factors_enabled? %>
        <div class="grid-col-4 mobile-lg:grid-col-6 right-align">
          <%= render ButtonComponent.new(
                action: ->(**tag_options, &block) do
                  link_to(webauthn_setup_delete_path(id: cfg.id), **tag_options, &block)
                end,
              ).with_content(t('account.index.webauthn_delete')) %>
        </div>
      <% end %>
    </div>
    <div class="clearfix"></div>
  <% end %>
</div>

<%= render ButtonComponent.new(
      action: ->(**tag_options, &block) do
        link_to(webauthn_setup_path, **tag_options, &block)
      end,
      class: 'usa-button usa-button--outline margin-top-2',
    ).with_content(t('account.index.webauthn_add')) %>
