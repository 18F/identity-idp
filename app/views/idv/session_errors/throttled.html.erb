<%= render(
      'idv/shared/error',
      heading: t('errors.doc_auth.throttled_heading'),
      current_step: :verify_id,
      options: [
        {
          url: MarketingSite.contact_url,
          text: t('idv.troubleshooting.options.contact_support', app_name: APP_NAME),
          new_tab: true,
        },
      ].select(&:present?),
    ) do %>
      <p>
        <%= t(
              'errors.doc_auth.throttled_text_html',
              timeout: distance_of_time_in_words(
                Time.zone.now,
                [@expires_at, Time.zone.now].compact.max,
                except: :seconds,
              ),
            ) %>
      </p>
      <p>
        <strong>
          <% exit_text =  'idv.failure.exit.without_sp' %>
          <% exit_text = 'idv.failure.exit.with_sp' if decorated_session.sp_name.present? %>
          <%= link_to(
                t(exit_text, app_name: APP_NAME, sp_name: decorated_session.sp_name),
                return_to_sp_failure_to_proof_path(
                  step: 'verify_id',
                  location: request.params[:action],
                ),
              ) %>
        </strong>
      </p>
    <% end %>
