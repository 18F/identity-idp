<%= render PageHeadingComponent.new.with_content(t('headings.personal_key')) %>
<div class="full-width-box margin-y-5">
  <%= render 'partials/personal_key/key', code: code %>
</div>

<br />

<div>
  <%= render AccordionComponent.new do |c| %>
    <% c.header { "What is a personal key?" } %>
    <p>
    A personal key "locks" your personal information with your account.
    It's the only way to unlock your information if you lose or forget
    your password.
    </p>

    <p>
    When you reset your password, Login.gov will ask for your personal
    key to make sure you are you - not someone pretending to be you.
    </p>
  <% end %>
</div>

<div>
  <input type="checkbox" value="1" name="acknowledgement_checkbox" class="usa-checkbox__input"
 />
  <label for="acknowledgement_checkbox" class="usa-checkbox__label">
    <p>
      <b>
        You need your personal key if you forget your password.
        Keep it safe and don't share it with anyone.
      </b>
    </p>
    <p>
      <%= t('instructions.personal_key.info') %>
      <ul>
        <% t('instructions.personal_key.info_bullets').each do |bullet| %>
        <%=  "<li>#{bullet}</li>".html_safe %>
        <% end %>
      </ul>
    </p>
    <p>
      Check the box above to continue
    </p>
  </label>
</div>

<%= button_to(
      t('forms.buttons.continue'),
      update_path,
      class: 'display-block usa-button usa-button--full-width usa-button--wide personal-key-continue margin-top-5',
      'data-toggle': FeatureManagement.idv_personal_key_confirmation_enabled? ? 'modal' : 'skip',
    ) %>
<%= render 'shared/personal_key_confirmation_modal', code: code, update_path: update_path %>
<%== javascript_packs_tag_once 'personal-key-page-controller' %>
